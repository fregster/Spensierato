
		<xsl:template name="admin_bar">
			<xsl:if test="/page/user/id != 0">
				<div id="page_section_admin_bar">
					<xsl:if test="/page/security/can_edit = 1">
						<!-- can edit this page -->
						<xsl:if test="/page/options/admin_mode = 1">
							<!--  Show toggle admin and edit options -->
							<a href="toggle/admin_mode">Swith off Admin Mode</a> | Edit page details			
						</xsl:if>
						<xsl:if test="/page/options/admin_mode != 1">
							<!--  Show toggle admin -->
							<a href="toggle/admin_mode">Swith on Admin Mode</a>
						</xsl:if>
						
					</xsl:if>

					<xsl:if test="/page/security/can_edit != 1">
						<!-- can't edit -->
						<xsl:if test="/page/security/admin_mode = 1">
							 <!-- Show toggle admin out and text you can not edit -->
							 <a href="toggle/admin_mode">Swith off Admin Mode</a>
						</xsl:if>
						You can not edit this page
					</xsl:if>
</div>
			</xsl:if>
		</xsl:template>
	
		<xsl:template name="element_admin_header">
		<!-- If in admin show admin header -->
		<xsl:if test="/page/options/admin_mode = 1">
			<xsl:element name="div">
				<xsl:attribute name="id">eid_admin_<xsl:value-of select="./@id" /></xsl:attribute>
				<xsl:attribute name="title"><xsl:value-of select="./@title" /></xsl:attribute>
				<xsl:attribute name="class">element_header</xsl:attribute>
				<div class="sprite sprite-accept" />
				This is a <xsl:value-of select="./@name" />
				
				<xsl:element name="a">
					<xsl:attribute name="href"><xsl:value-of select="/page/settings/document_root" />/edit/eid_<xsl:value-of select="./@id" /></xsl:attribute>
					<!--<xsl:attribute name="onclick">editContent('eid_<xsl:value-of select="./@id" />'); return false;</xsl:attribute>  -->
					<xsl:attribute name="onclick">showPopWin('<xsl:value-of select="/page/settings/document_root" />/edit/eid_<xsl:value-of select="./@id" />', 700, <xsl:value-of select="./@eh" />, pageReload); return false;</xsl:attribute>
					Edit Content
				</xsl:element>
				this is just a lot of junk text to mess about the styling to see what happens as the div grows and grows and grows etc, this should evently wrap to the next line but push the div to the max width of the container div.
			</xsl:element>			
		</xsl:if>
	</xsl:template>
	
	<xsl:template name="element_admin_footer">
		<!-- If in admin show admin header -->
		<xsl:if test="/page/options/admin_mode = 1">
			<xsl:element name="div">
				<xsl:attribute name="class">element_footer</xsl:attribute>
				Admin Element Footer
			</xsl:element>
			<br />
		</xsl:if>		
	</xsl:template>