<xsl:template name="imagegallery">
<!-- This is the default media template for imageflow -->
<div class="js-hide">
	<p>Javascript is required to view the gallery with scrolling</p>
</div>
<div id="imageflow"> 
	<div id="imageflow-loading">
		<b>Loading images</b><br/>
		<xsl:element name="img">
			<xsl:attribute name="src"><xsl:value-of select="/page/settings/document_root" />/skin/z-loading.gif</xsl:attribute>
			<xsl:attribute name="alt">Loading</xsl:attribute>
			<xsl:attribute name="width">208</xsl:attribute>
			<xsl:attribute name="height">13</xsl:attribute>
		</xsl:element>
	</div>
	<div id="imageflow-images">
		<!-- Repet image tags for each image in this gallery -->
		
		<xsl:for-each select="./data/elementid">
			<xsl:element name="img">
				<xsl:attribute name="class">imageflow-img</xsl:attribute>
				<xsl:attribute name="src"><xsl:value-of select="/page/settings/document_root" />/download/<xsl:value-of select="." /></xsl:attribute>
				<xsl:attribute name="longdesc"><xsl:value-of select="./@title" /></xsl:attribute>
				<xsl:attribute name="alt">Image id <xsl:value-of select="./@id" /></xsl:attribute>
			</xsl:element>
		</xsl:for-each>
	</div>
	<div id="imageflow-captions"></div>
	<div id="imageflow-scrollbar">
		<div id="imageflow-slider"></div>
	</div>
</div>
</xsl:template>